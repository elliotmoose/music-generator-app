{"ast":null,"code":"import _classCallCheck from \"/Users/thebe/Desktop/music-generator-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/thebe/Desktop/music-generator-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/thebe/Desktop/music-generator-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/Users/thebe/Desktop/music-generator-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/Users/thebe/Desktop/music-generator-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/thebe/Desktop/music-generator-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/thebe/Desktop/music-generator-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Gain } from \"../../core/context/Gain\";\nimport { Param } from \"../../core/context/Param\";\nimport { connectSeries, ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { ToneAudioWorklet } from \"../../core/worklet/ToneAudioWorklet\";\nimport { workletName } from \"./FeedbackCombFilter.worklet\";\n/**\n * Comb filters are basic building blocks for physical modeling. Read more\n * about comb filters on [CCRMA's website](https://ccrma.stanford.edu/~jos/pasp/Feedback_Comb_Filters.html).\n *\n * This comb filter is implemented with the AudioWorkletNode which allows it to have feedback delays less than the\n * Web Audio processing block of 128 samples. There is a polyfill for browsers that don't yet support the\n * AudioWorkletNode, but it will add some latency and have slower performance than the AudioWorkletNode.\n * @category Component\n */\n\nexport var FeedbackCombFilter = /*#__PURE__*/function (_ToneAudioWorklet) {\n  _inherits(FeedbackCombFilter, _ToneAudioWorklet);\n\n  var _super = _createSuper(FeedbackCombFilter);\n\n  function FeedbackCombFilter() {\n    var _this;\n\n    _classCallCheck(this, FeedbackCombFilter);\n\n    _this = _super.call(this, optionsFromArguments(FeedbackCombFilter.getDefaults(), arguments, [\"delayTime\", \"resonance\"]));\n    _this.name = \"FeedbackCombFilter\";\n    var options = optionsFromArguments(FeedbackCombFilter.getDefaults(), arguments, [\"delayTime\", \"resonance\"]);\n    _this.input = new Gain({\n      context: _this.context\n    });\n    _this.output = new Gain({\n      context: _this.context\n    });\n    _this.delayTime = new Param({\n      context: _this.context,\n      value: options.delayTime,\n      units: \"time\",\n      minValue: 0,\n      maxValue: 1,\n      param: _this._dummyParam,\n      swappable: true\n    });\n    _this.resonance = new Param({\n      context: _this.context,\n      value: options.resonance,\n      units: \"normalRange\",\n      param: _this._dummyParam,\n      swappable: true\n    });\n    readOnly(_assertThisInitialized(_this), [\"resonance\", \"delayTime\"]);\n    return _this;\n  }\n\n  _createClass(FeedbackCombFilter, [{\n    key: \"_audioWorkletName\",\n    value: function _audioWorkletName() {\n      return workletName;\n    }\n    /**\n     * The default parameters\n     */\n\n  }, {\n    key: \"onReady\",\n    value: function onReady(node) {\n      connectSeries(this.input, node, this.output);\n      var delayTime = node.parameters.get(\"delayTime\");\n      ;\n      this.delayTime.setParam(delayTime);\n      var feedback = node.parameters.get(\"feedback\");\n      ;\n      this.resonance.setParam(feedback);\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(FeedbackCombFilter.prototype), \"dispose\", this).call(this);\n\n      this.input.dispose();\n      this.output.dispose();\n      this.delayTime.dispose();\n      this.resonance.dispose();\n      return this;\n    }\n  }], [{\n    key: \"getDefaults\",\n    value: function getDefaults() {\n      return Object.assign(ToneAudioNode.getDefaults(), {\n        delayTime: 0.1,\n        resonance: 0.5\n      });\n    }\n  }]);\n\n  return FeedbackCombFilter;\n}(ToneAudioWorklet);","map":{"version":3,"sources":["../../../../Tone/component/filter/FeedbackCombFilter.ts"],"names":[],"mappings":";;;;;;;AAAA,SAAS,IAAT,QAAqB,yBAArB;AACA,SAAS,KAAT,QAAsB,0BAAtB;AACA,SAAS,aAAT,EAAwB,aAAxB,QAAmE,kCAAnE;AAEA,SAAS,oBAAT,QAAqC,0BAArC;AACA,SAAS,QAAT,QAA2C,2BAA3C;AACA,SAAS,gBAAT,QAAiC,qCAAjC;AACA,SAAS,WAAT,QAA4B,8BAA5B;AAOA;;;;;;;;AAQG;;AACH,WAAa,kBAAb;AAAA;;AAAA;;AAuBC,gCAAA;AAAA;;AAAA;;AACC,8BAAM,oBAAoB,CAAC,kBAAkB,CAAC,WAAnB,EAAD,EAAmC,SAAnC,EAA8C,CAAC,WAAD,EAAc,WAAd,CAA9C,CAA1B;AAtBQ,UAAA,IAAA,GAAO,oBAAP;AAuBR,QAAM,OAAO,GAAG,oBAAoB,CAAC,kBAAkB,CAAC,WAAnB,EAAD,EAAmC,SAAnC,EAA8C,CAAC,WAAD,EAAc,WAAd,CAA9C,CAApC;AAEA,UAAK,KAAL,GAAa,IAAI,IAAJ,CAAS;AAAE,MAAA,OAAO,EAAE,MAAK;AAAhB,KAAT,CAAb;AACA,UAAK,MAAL,GAAc,IAAI,IAAJ,CAAS;AAAE,MAAA,OAAO,EAAE,MAAK;AAAhB,KAAT,CAAd;AAEA,UAAK,SAAL,GAAiB,IAAI,KAAJ,CAAkB;AAClC,MAAA,OAAO,EAAE,MAAK,OADoB;AAElC,MAAA,KAAK,EAAE,OAAO,CAAC,SAFmB;AAGlC,MAAA,KAAK,EAAE,MAH2B;AAIlC,MAAA,QAAQ,EAAE,CAJwB;AAKlC,MAAA,QAAQ,EAAE,CALwB;AAMlC,MAAA,KAAK,EAAE,MAAK,WANsB;AAOlC,MAAA,SAAS,EAAE;AAPuB,KAAlB,CAAjB;AAUA,UAAK,SAAL,GAAiB,IAAI,KAAJ,CAAyB;AACzC,MAAA,OAAO,EAAE,MAAK,OAD2B;AAEzC,MAAA,KAAK,EAAE,OAAO,CAAC,SAF0B;AAGzC,MAAA,KAAK,EAAE,aAHkC;AAIzC,MAAA,KAAK,EAAE,MAAK,WAJ6B;AAKzC,MAAA,SAAS,EAAE;AAL8B,KAAzB,CAAjB;AAQA,IAAA,QAAQ,gCAAO,CAAC,WAAD,EAAc,WAAd,CAAP,CAAR;AAzBD;AA0BC;;AAjDF;AAAA;AAAA,wCAmD4B;AAC1B,aAAO,WAAP;AACA;AAED;;AAEG;;AAzDJ;AAAA;AAAA,4BAiES,IAjET,EAiE+B;AAC7B,MAAA,aAAa,CAAC,KAAK,KAAN,EAAa,IAAb,EAAmB,KAAK,MAAxB,CAAb;AACA,UAAM,SAAS,GAAG,IAAI,CAAC,UAAL,CAAgB,GAAhB,CAAoB,WAApB,CAAlB;AAAiE;AACjE,WAAK,SAAL,CAAe,QAAf,CAAwB,SAAxB;AACA,UAAM,QAAQ,GAAG,IAAI,CAAC,UAAL,CAAgB,GAAhB,CAAoB,UAApB,CAAjB;AAA+D;AAC/D,WAAK,SAAL,CAAe,QAAf,CAAwB,QAAxB;AACA;AAvEF;AAAA;AAAA,8BAyEQ;AACN;;AACA,WAAK,KAAL,CAAW,OAAX;AACA,WAAK,MAAL,CAAY,OAAZ;AACA,WAAK,SAAL,CAAe,OAAf;AACA,WAAK,SAAL,CAAe,OAAf;AACA,aAAO,IAAP;AACA;AAhFF;AAAA;AAAA,kCA0DmB;AACjB,aAAO,MAAM,CAAC,MAAP,CAAc,aAAa,CAAC,WAAd,EAAd,EAA2C;AACjD,QAAA,SAAS,EAAE,GADsC;AAEjD,QAAA,SAAS,EAAE;AAFsC,OAA3C,CAAP;AAIA;AA/DF;;AAAA;AAAA,EAAwC,gBAAxC","sourceRoot":"","sourcesContent":["import { Gain } from \"../../core/context/Gain\";\nimport { Param } from \"../../core/context/Param\";\nimport { connectSeries, ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\nimport { readOnly } from \"../../core/util/Interface\";\nimport { ToneAudioWorklet } from \"../../core/worklet/ToneAudioWorklet\";\nimport { workletName } from \"./FeedbackCombFilter.worklet\";\n/**\n * Comb filters are basic building blocks for physical modeling. Read more\n * about comb filters on [CCRMA's website](https://ccrma.stanford.edu/~jos/pasp/Feedback_Comb_Filters.html).\n *\n * This comb filter is implemented with the AudioWorkletNode which allows it to have feedback delays less than the\n * Web Audio processing block of 128 samples. There is a polyfill for browsers that don't yet support the\n * AudioWorkletNode, but it will add some latency and have slower performance than the AudioWorkletNode.\n * @category Component\n */\nexport class FeedbackCombFilter extends ToneAudioWorklet {\n    constructor() {\n        super(optionsFromArguments(FeedbackCombFilter.getDefaults(), arguments, [\"delayTime\", \"resonance\"]));\n        this.name = \"FeedbackCombFilter\";\n        const options = optionsFromArguments(FeedbackCombFilter.getDefaults(), arguments, [\"delayTime\", \"resonance\"]);\n        this.input = new Gain({ context: this.context });\n        this.output = new Gain({ context: this.context });\n        this.delayTime = new Param({\n            context: this.context,\n            value: options.delayTime,\n            units: \"time\",\n            minValue: 0,\n            maxValue: 1,\n            param: this._dummyParam,\n            swappable: true,\n        });\n        this.resonance = new Param({\n            context: this.context,\n            value: options.resonance,\n            units: \"normalRange\",\n            param: this._dummyParam,\n            swappable: true,\n        });\n        readOnly(this, [\"resonance\", \"delayTime\"]);\n    }\n    _audioWorkletName() {\n        return workletName;\n    }\n    /**\n     * The default parameters\n     */\n    static getDefaults() {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            delayTime: 0.1,\n            resonance: 0.5,\n        });\n    }\n    onReady(node) {\n        connectSeries(this.input, node, this.output);\n        const delayTime = node.parameters.get(\"delayTime\");\n        ;\n        this.delayTime.setParam(delayTime);\n        const feedback = node.parameters.get(\"feedback\");\n        ;\n        this.resonance.setParam(feedback);\n    }\n    dispose() {\n        super.dispose();\n        this.input.dispose();\n        this.output.dispose();\n        this.delayTime.dispose();\n        this.resonance.dispose();\n        return this;\n    }\n}\n//# sourceMappingURL=FeedbackCombFilter.js.map"]},"metadata":{},"sourceType":"module"}