{"ast":null,"code":"export var cloneAudioWorkletNodeOptions = function cloneAudioWorkletNodeOptions(audioWorkletNodeOptions) {\n  return new Promise(function (resolve, reject) {\n    var _MessageChannel = new MessageChannel(),\n        port1 = _MessageChannel.port1,\n        port2 = _MessageChannel.port2;\n\n    port1.onmessage = function (_ref) {\n      var data = _ref.data;\n      port1.close();\n      port2.close();\n      resolve(data);\n    };\n\n    port1.onmessageerror = function (_ref2) {\n      var data = _ref2.data;\n      port1.close();\n      port2.close();\n      reject(data);\n    }; // This will throw an error if the audioWorkletNodeOptions are not clonable.\n\n\n    port2.postMessage(audioWorkletNodeOptions);\n  });\n};","map":{"version":3,"sources":["../../../src/helpers/clone-audio-worklet-node-options.ts"],"names":[],"mappings":"AAEA,OAAO,IAAM,4BAA4B,GAAG,SAA/B,4BAA+B,CAAC,uBAAD,EAAyF;AACjI,SAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAoB;AAAA,0BACV,IAAI,cAAJ,EADU;AAAA,QAC3B,KAD2B,mBAC3B,KAD2B;AAAA,QACpB,KADoB,mBACpB,KADoB;;AAGnC,IAAA,KAAK,CAAC,SAAN,GAAkB,gBAAa;AAAA,UAAV,IAAU,QAAV,IAAU;AAC3B,MAAA,KAAK,CAAC,KAAN;AACA,MAAA,KAAK,CAAC,KAAN;AAEA,MAAA,OAAO,CAAC,IAAD,CAAP;AACH,KALD;;AAMA,IAAA,KAAK,CAAC,cAAN,GAAuB,iBAAa;AAAA,UAAV,IAAU,SAAV,IAAU;AAChC,MAAA,KAAK,CAAC,KAAN;AACA,MAAA,KAAK,CAAC,KAAN;AAEA,MAAA,MAAM,CAAC,IAAD,CAAN;AACH,KALD,CATmC,CAgBnC;;;AACA,IAAA,KAAK,CAAC,WAAN,CAAkB,uBAAlB;AACH,GAlBM,CAAP;AAmBH,CApBM","sourceRoot":"","sourcesContent":["export const cloneAudioWorkletNodeOptions = (audioWorkletNodeOptions) => {\n    return new Promise((resolve, reject) => {\n        const { port1, port2 } = new MessageChannel();\n        port1.onmessage = ({ data }) => {\n            port1.close();\n            port2.close();\n            resolve(data);\n        };\n        port1.onmessageerror = ({ data }) => {\n            port1.close();\n            port2.close();\n            reject(data);\n        };\n        // This will throw an error if the audioWorkletNodeOptions are not clonable.\n        port2.postMessage(audioWorkletNodeOptions);\n    });\n};\n//# sourceMappingURL=clone-audio-worklet-node-options.js.map"]},"metadata":{},"sourceType":"module"}