{"ast":null,"code":"var core = require('../../core'); // @see https://github.com/substack/brfs/issues/25\n\n\nvar fs = require('fs');\n/**\n * The ConvolutionFilter class applies a matrix convolution filter effect.\n * A convolution combines pixels in the input image with neighboring pixels to produce a new image.\n * A wide variety of image effects can be achieved through convolutions, including blurring, edge\n * detection, sharpening, embossing, and beveling. The matrix should be specified as a 9 point Array.\n * See http://docs.gimp.org/en/plug-in-convmatrix.html for more info.\n *\n * @class\n * @extends PIXI.AbstractFilter\n * @memberof PIXI.filters\n * @param matrix {number[]} An array of values used for matrix transformation. Specified as a 9 point Array.\n * @param width {number} Width of the object you are transforming\n * @param height {number} Height of the object you are transforming\n */\n\n\nfunction ConvolutionFilter(matrix, width, height) {\n  core.AbstractFilter.call(this, // vertex shader\n  null, // fragment shader\n  fs.readFileSync(__dirname + '/convolution.frag', 'utf8'), // custom uniforms\n  {\n    matrix: {\n      type: '1fv',\n      value: new Float32Array(matrix)\n    },\n    texelSize: {\n      type: 'v2',\n      value: {\n        x: 1 / width,\n        y: 1 / height\n      }\n    }\n  });\n}\n\nConvolutionFilter.prototype = Object.create(core.AbstractFilter.prototype);\nConvolutionFilter.prototype.constructor = ConvolutionFilter;\nmodule.exports = ConvolutionFilter;\nObject.defineProperties(ConvolutionFilter.prototype, {\n  /**\n   * An array of values used for matrix transformation. Specified as a 9 point Array.\n   *\n   * @member {number[]}\n   * @memberof ConvolutionFilter#\n   */\n  matrix: {\n    get: function () {\n      return this.uniforms.matrix.value;\n    },\n    set: function (value) {\n      this.uniforms.matrix.value = new Float32Array(value);\n    }\n  },\n\n  /**\n   * Width of the object you are transforming\n   *\n   * @member {number}\n   * @memberof ConvolutionFilter#\n   */\n  width: {\n    get: function () {\n      return 1 / this.uniforms.texelSize.value.x;\n    },\n    set: function (value) {\n      this.uniforms.texelSize.value.x = 1 / value;\n    }\n  },\n\n  /**\n   * Height of the object you are transforming\n   *\n   * @member {number}\n   * @memberof ConvolutionFilter#\n   */\n  height: {\n    get: function () {\n      return 1 / this.uniforms.texelSize.value.y;\n    },\n    set: function (value) {\n      this.uniforms.texelSize.value.y = 1 / value;\n    }\n  }\n});","map":{"version":3,"sources":["/Users/thebe/Desktop/music-generator-app/node_modules/pixi.js/src/filters/convolution/ConvolutionFilter.js"],"names":["core","require","fs","ConvolutionFilter","matrix","width","height","AbstractFilter","call","readFileSync","__dirname","type","value","Float32Array","texelSize","x","y","prototype","Object","create","constructor","module","exports","defineProperties","get","uniforms","set"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,YAAD,CAAlB,C,CACA;;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAhB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASE,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0CC,MAA1C,EACA;AACIN,EAAAA,IAAI,CAACO,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,EACI;AACA,MAFJ,EAGI;AACAN,EAAAA,EAAE,CAACO,YAAH,CAAgBC,SAAS,GAAG,mBAA5B,EAAiD,MAAjD,CAJJ,EAKI;AACA;AACIN,IAAAA,MAAM,EAAM;AAAEO,MAAAA,IAAI,EAAE,KAAR;AAAeC,MAAAA,KAAK,EAAE,IAAIC,YAAJ,CAAiBT,MAAjB;AAAtB,KADhB;AAEIU,IAAAA,SAAS,EAAG;AAAEH,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,KAAK,EAAE;AAAEG,QAAAA,CAAC,EAAE,IAAIV,KAAT;AAAgBW,QAAAA,CAAC,EAAE,IAAIV;AAAvB;AAArB;AAFhB,GANJ;AAWH;;AAEDH,iBAAiB,CAACc,SAAlB,GAA8BC,MAAM,CAACC,MAAP,CAAcnB,IAAI,CAACO,cAAL,CAAoBU,SAAlC,CAA9B;AACAd,iBAAiB,CAACc,SAAlB,CAA4BG,WAA5B,GAA0CjB,iBAA1C;AACAkB,MAAM,CAACC,OAAP,GAAiBnB,iBAAjB;AAEAe,MAAM,CAACK,gBAAP,CAAwBpB,iBAAiB,CAACc,SAA1C,EAAqD;AACjD;AACJ;AACA;AACA;AACA;AACA;AACIb,EAAAA,MAAM,EAAE;AACJoB,IAAAA,GAAG,EAAE,YACL;AACI,aAAO,KAAKC,QAAL,CAAcrB,MAAd,CAAqBQ,KAA5B;AACH,KAJG;AAKJc,IAAAA,GAAG,EAAE,UAAUd,KAAV,EACL;AACI,WAAKa,QAAL,CAAcrB,MAAd,CAAqBQ,KAArB,GAA6B,IAAIC,YAAJ,CAAiBD,KAAjB,CAA7B;AACH;AARG,GAPyC;;AAkBjD;AACJ;AACA;AACA;AACA;AACA;AACIP,EAAAA,KAAK,EAAE;AACHmB,IAAAA,GAAG,EAAE,YACL;AACI,aAAO,IAAE,KAAKC,QAAL,CAAcX,SAAd,CAAwBF,KAAxB,CAA8BG,CAAvC;AACH,KAJE;AAKHW,IAAAA,GAAG,EAAE,UAAUd,KAAV,EACL;AACI,WAAKa,QAAL,CAAcX,SAAd,CAAwBF,KAAxB,CAA8BG,CAA9B,GAAkC,IAAEH,KAApC;AACH;AARE,GAxB0C;;AAmCjD;AACJ;AACA;AACA;AACA;AACA;AACIN,EAAAA,MAAM,EAAE;AACJkB,IAAAA,GAAG,EAAE,YACL;AACI,aAAO,IAAE,KAAKC,QAAL,CAAcX,SAAd,CAAwBF,KAAxB,CAA8BI,CAAvC;AACH,KAJG;AAKJU,IAAAA,GAAG,EAAE,UAAUd,KAAV,EACL;AACI,WAAKa,QAAL,CAAcX,SAAd,CAAwBF,KAAxB,CAA8BI,CAA9B,GAAkC,IAAEJ,KAApC;AACH;AARG;AAzCyC,CAArD","sourcesContent":["var core = require('../../core');\n// @see https://github.com/substack/brfs/issues/25\nvar fs = require('fs');\n\n/**\n * The ConvolutionFilter class applies a matrix convolution filter effect.\n * A convolution combines pixels in the input image with neighboring pixels to produce a new image.\n * A wide variety of image effects can be achieved through convolutions, including blurring, edge\n * detection, sharpening, embossing, and beveling. The matrix should be specified as a 9 point Array.\n * See http://docs.gimp.org/en/plug-in-convmatrix.html for more info.\n *\n * @class\n * @extends PIXI.AbstractFilter\n * @memberof PIXI.filters\n * @param matrix {number[]} An array of values used for matrix transformation. Specified as a 9 point Array.\n * @param width {number} Width of the object you are transforming\n * @param height {number} Height of the object you are transforming\n */\nfunction ConvolutionFilter(matrix, width, height)\n{\n    core.AbstractFilter.call(this,\n        // vertex shader\n        null,\n        // fragment shader\n        fs.readFileSync(__dirname + '/convolution.frag', 'utf8'),\n        // custom uniforms\n        {\n            matrix:     { type: '1fv', value: new Float32Array(matrix) },\n            texelSize:  { type: 'v2', value: { x: 1 / width, y: 1 / height } }\n        }\n    );\n}\n\nConvolutionFilter.prototype = Object.create(core.AbstractFilter.prototype);\nConvolutionFilter.prototype.constructor = ConvolutionFilter;\nmodule.exports = ConvolutionFilter;\n\nObject.defineProperties(ConvolutionFilter.prototype, {\n    /**\n     * An array of values used for matrix transformation. Specified as a 9 point Array.\n     *\n     * @member {number[]}\n     * @memberof ConvolutionFilter#\n     */\n    matrix: {\n        get: function ()\n        {\n            return this.uniforms.matrix.value;\n        },\n        set: function (value)\n        {\n            this.uniforms.matrix.value = new Float32Array(value);\n        }\n    },\n\n    /**\n     * Width of the object you are transforming\n     *\n     * @member {number}\n     * @memberof ConvolutionFilter#\n     */\n    width: {\n        get: function ()\n        {\n            return 1/this.uniforms.texelSize.value.x;\n        },\n        set: function (value)\n        {\n            this.uniforms.texelSize.value.x = 1/value;\n        }\n    },\n\n    /**\n     * Height of the object you are transforming\n     *\n     * @member {number}\n     * @memberof ConvolutionFilter#\n     */\n    height: {\n        get: function ()\n        {\n            return 1/this.uniforms.texelSize.value.y;\n        },\n        set: function (value)\n        {\n            this.uniforms.texelSize.value.y = 1/value;\n        }\n    }\n});\n"]},"metadata":{},"sourceType":"script"}