{"ast":null,"code":"var core = require('../../core');\n\nvar fs = require('fs');\n/**\n * The BlurDirFilter applies a Gaussian blur toward a direction to an object.\n *\n * @class\n * @param {number} dirX\n * @param {number} dirY\n * @extends PIXI.AbstractFilter\n * @memberof PIXI.filters\n */\n\n\nfunction BlurDirFilter(dirX, dirY) {\n  core.AbstractFilter.call(this, // vertex shader\n  fs.readFileSync(__dirname + '/blurDir.vert', 'utf8'), // fragment shader\n  fs.readFileSync(__dirname + '/blurDir.frag', 'utf8'), // set the uniforms\n  {\n    strength: {\n      type: '1f',\n      value: 1\n    },\n    dirX: {\n      type: '1f',\n      value: dirX || 0\n    },\n    dirY: {\n      type: '1f',\n      value: dirY || 0\n    }\n  });\n  this.defaultFilter = new core.AbstractFilter();\n  /**\n   * Sets the number of passes for blur. More passes means higher quaility bluring.\n   *\n   * @member {number}\n   * @memberof BlurDirFilter#\n   * @default 1\n   */\n\n  this.passes = 1;\n  /**\n   * Sets the X direction of the blur\n   *\n   * @member {number}\n   * @memberof BlurDirFilter#\n   * @default 0\n   */\n\n  this.dirX = dirX || 0;\n  /**\n   * Sets the Y direction of the blur\n   *\n   * @member {number}\n   * @memberof BlurDirFilter#\n   * @default 0\n   */\n\n  this.dirY = dirY || 0;\n  this.strength = 4;\n}\n\nBlurDirFilter.prototype = Object.create(core.AbstractFilter.prototype);\nBlurDirFilter.prototype.constructor = BlurDirFilter;\nmodule.exports = BlurDirFilter;\n\nBlurDirFilter.prototype.applyFilter = function (renderer, input, output, clear) {\n  var shader = this.getShader(renderer);\n  this.uniforms.strength.value = this.strength / 4 / this.passes * (input.frame.width / input.size.width);\n\n  if (this.passes === 1) {\n    renderer.filterManager.applyFilter(shader, input, output, clear);\n  } else {\n    var renderTarget = renderer.filterManager.getRenderTarget(true);\n    renderer.filterManager.applyFilter(shader, input, renderTarget, clear);\n\n    for (var i = 0; i < this.passes - 2; i++) {\n      //this.uniforms.strength.value = this.strength / 4 / (this.passes+(i*2)) * (input.frame.width / input.size.width);\n      renderer.filterManager.applyFilter(shader, renderTarget, renderTarget, clear);\n    }\n\n    renderer.filterManager.applyFilter(shader, renderTarget, output, clear);\n    renderer.filterManager.returnRenderTarget(renderTarget);\n  }\n};\n\nObject.defineProperties(BlurDirFilter.prototype, {\n  /**\n   * Sets the strength of both the blur.\n   *\n   * @member {number}\n   * @memberof BlurDirFilter#\n   * @default 2\n   */\n  blur: {\n    get: function () {\n      return this.strength;\n    },\n    set: function (value) {\n      this.padding = value * 0.5;\n      this.strength = value;\n    }\n  },\n\n  /**\n   * Sets the X direction of the blur.\n   *\n   * @member {number}\n   * @memberof BlurYFilter#\n   * @default 0\n   */\n  dirX: {\n    get: function () {\n      return this.dirX;\n    },\n    set: function (value) {\n      this.uniforms.dirX.value = value;\n    }\n  },\n\n  /**\n   * Sets the Y direction of the blur.\n   *\n   * @member {number}\n   * @memberof BlurDirFilter#\n   * @default 0\n   */\n  dirY: {\n    get: function () {\n      return this.dirY;\n    },\n    set: function (value) {\n      this.uniforms.dirY.value = value;\n    }\n  }\n});","map":{"version":3,"sources":["/Users/thebe/Desktop/music-generator-app/node_modules/pixi.js/src/filters/blur/BlurDirFilter.js"],"names":["core","require","fs","BlurDirFilter","dirX","dirY","AbstractFilter","call","readFileSync","__dirname","strength","type","value","defaultFilter","passes","prototype","Object","create","constructor","module","exports","applyFilter","renderer","input","output","clear","shader","getShader","uniforms","frame","width","size","filterManager","renderTarget","getRenderTarget","i","returnRenderTarget","defineProperties","blur","get","set","padding"],"mappings":"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","sourcesContent":["var core = require('../../core');\nvar fs = require('fs');\n\n/**\n * The BlurDirFilter applies a Gaussian blur toward a direction to an object.\n *\n * @class\n * @param {number} dirX\n * @param {number} dirY\n * @extends PIXI.AbstractFilter\n * @memberof PIXI.filters\n */\nfunction BlurDirFilter(dirX, dirY)\n{\n    core.AbstractFilter.call(this,\n        // vertex shader\n        fs.readFileSync(__dirname + '/blurDir.vert', 'utf8'),\n        // fragment shader\n        fs.readFileSync(__dirname + '/blurDir.frag', 'utf8'),\n        // set the uniforms\n        {\n            strength: { type: '1f', value: 1 },\n            dirX: { type: '1f', value: dirX || 0 },\n            dirY: { type: '1f', value: dirY || 0 }\n        }\n    );\n\n    this.defaultFilter = new core.AbstractFilter();\n\n    /**\n     * Sets the number of passes for blur. More passes means higher quaility bluring.\n     *\n     * @member {number}\n     * @memberof BlurDirFilter#\n     * @default 1\n     */\n    this.passes = 1;\n\n    /**\n     * Sets the X direction of the blur\n     *\n     * @member {number}\n     * @memberof BlurDirFilter#\n     * @default 0\n     */\n    this.dirX = dirX || 0;\n\n    /**\n     * Sets the Y direction of the blur\n     *\n     * @member {number}\n     * @memberof BlurDirFilter#\n     * @default 0\n     */\n    this.dirY = dirY || 0;\n\n    this.strength = 4;\n}\n\nBlurDirFilter.prototype = Object.create(core.AbstractFilter.prototype);\nBlurDirFilter.prototype.constructor = BlurDirFilter;\nmodule.exports = BlurDirFilter;\n\nBlurDirFilter.prototype.applyFilter = function (renderer, input, output, clear) {\n\n    var shader = this.getShader(renderer);\n\n    this.uniforms.strength.value = this.strength / 4 / this.passes * (input.frame.width / input.size.width);\n\n    if (this.passes === 1) {\n        renderer.filterManager.applyFilter(shader, input, output, clear);\n    } else {\n        var renderTarget = renderer.filterManager.getRenderTarget(true);\n\n        renderer.filterManager.applyFilter(shader, input, renderTarget, clear);\n\n        for(var i = 0; i < this.passes-2; i++)\n        {\n            //this.uniforms.strength.value = this.strength / 4 / (this.passes+(i*2)) * (input.frame.width / input.size.width);\n            renderer.filterManager.applyFilter(shader, renderTarget, renderTarget, clear);\n        }\n\n        renderer.filterManager.applyFilter(shader, renderTarget, output, clear);\n\n        renderer.filterManager.returnRenderTarget(renderTarget);\n    }\n};\n\n\nObject.defineProperties(BlurDirFilter.prototype, {\n    /**\n     * Sets the strength of both the blur.\n     *\n     * @member {number}\n     * @memberof BlurDirFilter#\n     * @default 2\n     */\n    blur: {\n        get: function ()\n        {\n            return this.strength;\n        },\n        set: function (value)\n        {\n            this.padding = value * 0.5;\n            this.strength = value;\n        }\n    },\n    /**\n     * Sets the X direction of the blur.\n     *\n     * @member {number}\n     * @memberof BlurYFilter#\n     * @default 0\n     */\n    dirX: {\n        get: function ()\n        {\n            return this.dirX;\n        },\n        set: function (value)\n        {\n            this.uniforms.dirX.value = value;\n        }\n    },\n    /**\n     * Sets the Y direction of the blur.\n     *\n     * @member {number}\n     * @memberof BlurDirFilter#\n     * @default 0\n     */\n    dirY: {\n        get: function ()\n        {\n            return this.dirY;\n        },\n        set: function (value)\n        {\n            this.uniforms.dirY.value = value;\n        }\n    }\n});\n"]},"metadata":{},"sourceType":"script"}