{"ast":null,"code":"var coords = require('notecoord');\n\nvar accval = require('accidental-value');\n\nmodule.exports = function helmholtz(name) {\n  var name = name.replace(/\\u2032/g, \"'\").replace(/\\u0375/g, ',');\n  var parts = name.match(/^(,*)([a-h])(x|#|bb|b?)([,\\']*)$/i);\n  if (!parts || name !== parts[0]) throw new Error('Invalid formatting');\n  var note = parts[2];\n  var octaveFirst = parts[1];\n  var octaveLast = parts[4];\n  var lower = note === note.toLowerCase();\n  var octave;\n\n  if (octaveFirst) {\n    if (lower) throw new Error('Invalid formatting - found commas before lowercase note');\n    octave = 2 - octaveFirst.length;\n  } else if (octaveLast) {\n    if (octaveLast.match(/^'+$/) && lower) octave = 3 + octaveLast.length;else if (octaveLast.match(/^,+$/) && !lower) octave = 2 - octaveLast.length;else throw new Error('Invalid formatting - mismatch between octave ' + 'indicator and letter case');\n  } else octave = lower ? 3 : 2;\n\n  var accidentalValue = accval.interval(parts[3].toLowerCase());\n  var coord = coords(note.toLowerCase());\n  coord[0] += octave;\n  coord[0] += accidentalValue[0] - coords.A4[0];\n  coord[1] += accidentalValue[1] - coords.A4[1];\n  return coord;\n};","map":{"version":3,"sources":["/Users/thebe/Desktop/music-generator-app/node_modules/helmholtz/index.js"],"names":["coords","require","accval","module","exports","helmholtz","name","replace","parts","match","Error","note","octaveFirst","octaveLast","lower","toLowerCase","octave","length","accidentalValue","interval","coord","A4"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,kBAAD,CAApB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACxC,MAAIA,IAAI,GAAGA,IAAI,CAACC,OAAL,CAAa,SAAb,EAAwB,GAAxB,EAA6BA,OAA7B,CAAqC,SAArC,EAAgD,GAAhD,CAAX;AACA,MAAIC,KAAK,GAAGF,IAAI,CAACG,KAAL,CAAW,mCAAX,CAAZ;AAEA,MAAI,CAACD,KAAD,IAAUF,IAAI,KAAKE,KAAK,CAAC,CAAD,CAA5B,EACE,MAAM,IAAIE,KAAJ,CAAU,oBAAV,CAAN;AAEF,MAAIC,IAAI,GAAGH,KAAK,CAAC,CAAD,CAAhB;AACA,MAAII,WAAW,GAAGJ,KAAK,CAAC,CAAD,CAAvB;AACA,MAAIK,UAAU,GAAGL,KAAK,CAAC,CAAD,CAAtB;AACA,MAAIM,KAAK,GAAGH,IAAI,KAAKA,IAAI,CAACI,WAAL,EAArB;AACA,MAAIC,MAAJ;;AAEA,MAAIJ,WAAJ,EAAiB;AACf,QAAIE,KAAJ,EACE,MAAM,IAAIJ,KAAJ,CAAU,yDAAV,CAAN;AAEFM,IAAAA,MAAM,GAAG,IAAIJ,WAAW,CAACK,MAAzB;AACD,GALD,MAKO,IAAIJ,UAAJ,EAAgB;AACrB,QAAIA,UAAU,CAACJ,KAAX,CAAiB,MAAjB,KAA4BK,KAAhC,EACEE,MAAM,GAAG,IAAIH,UAAU,CAACI,MAAxB,CADF,KAEK,IAAIJ,UAAU,CAACJ,KAAX,CAAiB,MAAjB,KAA4B,CAACK,KAAjC,EACHE,MAAM,GAAG,IAAIH,UAAU,CAACI,MAAxB,CADG,KAGH,MAAM,IAAIP,KAAJ,CAAU,kDACd,2BADI,CAAN;AAEH,GARM,MASLM,MAAM,GAAGF,KAAK,GAAG,CAAH,GAAO,CAArB;;AAEF,MAAII,eAAe,GAAGhB,MAAM,CAACiB,QAAP,CAAgBX,KAAK,CAAC,CAAD,CAAL,CAASO,WAAT,EAAhB,CAAtB;AACA,MAAIK,KAAK,GAAGpB,MAAM,CAACW,IAAI,CAACI,WAAL,EAAD,CAAlB;AAEAK,EAAAA,KAAK,CAAC,CAAD,CAAL,IAAYJ,MAAZ;AACAI,EAAAA,KAAK,CAAC,CAAD,CAAL,IAAYF,eAAe,CAAC,CAAD,CAAf,GAAqBlB,MAAM,CAACqB,EAAP,CAAU,CAAV,CAAjC;AACAD,EAAAA,KAAK,CAAC,CAAD,CAAL,IAAYF,eAAe,CAAC,CAAD,CAAf,GAAqBlB,MAAM,CAACqB,EAAP,CAAU,CAAV,CAAjC;AAEA,SAAOD,KAAP;AACD,CArCD","sourcesContent":["var coords = require('notecoord');\nvar accval = require('accidental-value');\n\nmodule.exports = function helmholtz(name) {\n  var name = name.replace(/\\u2032/g, \"'\").replace(/\\u0375/g, ',');\n  var parts = name.match(/^(,*)([a-h])(x|#|bb|b?)([,\\']*)$/i);\n\n  if (!parts || name !== parts[0])\n    throw new Error('Invalid formatting');\n\n  var note = parts[2];\n  var octaveFirst = parts[1];\n  var octaveLast = parts[4];\n  var lower = note === note.toLowerCase();\n  var octave;\n\n  if (octaveFirst) {\n    if (lower)\n      throw new Error('Invalid formatting - found commas before lowercase note');\n\n    octave = 2 - octaveFirst.length;\n  } else if (octaveLast) {\n    if (octaveLast.match(/^'+$/) && lower)\n      octave = 3 + octaveLast.length;\n    else if (octaveLast.match(/^,+$/) && !lower)\n      octave = 2 - octaveLast.length;\n    else\n      throw new Error('Invalid formatting - mismatch between octave ' +\n        'indicator and letter case')\n  } else\n    octave = lower ? 3 : 2;\n\n  var accidentalValue = accval.interval(parts[3].toLowerCase());\n  var coord = coords(note.toLowerCase());\n\n  coord[0] += octave;\n  coord[0] += accidentalValue[0] - coords.A4[0];\n  coord[1] += accidentalValue[1] - coords.A4[1];\n\n  return coord;\n};\n"]},"metadata":{},"sourceType":"script"}