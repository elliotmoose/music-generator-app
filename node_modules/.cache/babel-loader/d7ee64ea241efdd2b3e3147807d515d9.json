{"ast":null,"code":"var core = require('../../core'); // @see https://github.com/substack/brfs/issues/25\n\n\nvar fs = require('fs');\n/**\n * @author Vico @vicocotea\n * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/\n */\n\n/**\n * A TiltShiftAxisFilter.\n *\n * @class\n * @extends PIXI.AbstractFilter\n * @memberof PIXI.filters\n */\n\n\nfunction TiltShiftAxisFilter() {\n  core.AbstractFilter.call(this, // vertex shader\n  null, // fragment shader\n  fs.readFileSync(__dirname + '/tiltShift.frag', 'utf8'), // custom uniforms\n  {\n    blur: {\n      type: '1f',\n      value: 100\n    },\n    gradientBlur: {\n      type: '1f',\n      value: 600\n    },\n    start: {\n      type: 'v2',\n      value: {\n        x: 0,\n        y: window.innerHeight / 2\n      }\n    },\n    end: {\n      type: 'v2',\n      value: {\n        x: 600,\n        y: window.innerHeight / 2\n      }\n    },\n    delta: {\n      type: 'v2',\n      value: {\n        x: 30,\n        y: 30\n      }\n    },\n    texSize: {\n      type: 'v2',\n      value: {\n        x: window.innerWidth,\n        y: window.innerHeight\n      }\n    }\n  });\n  this.updateDelta();\n}\n\nTiltShiftAxisFilter.prototype = Object.create(core.AbstractFilter.prototype);\nTiltShiftAxisFilter.prototype.constructor = TiltShiftAxisFilter;\nmodule.exports = TiltShiftAxisFilter;\n/**\n * Updates the filter delta values.\n * This is overridden in the X and Y filters, does nothing for this class.\n *\n */\n\nTiltShiftAxisFilter.prototype.updateDelta = function () {\n  this.uniforms.delta.value.x = 0;\n  this.uniforms.delta.value.y = 0;\n};\n\nObject.defineProperties(TiltShiftAxisFilter.prototype, {\n  /**\n   * The strength of the blur.\n   *\n   * @member {number}\n   * @memberof TiltShiftAxisFilter#\n   */\n  blur: {\n    get: function () {\n      return this.uniforms.blur.value;\n    },\n    set: function (value) {\n      this.uniforms.blur.value = value;\n    }\n  },\n\n  /**\n   * The strength of the gradient blur.\n   *\n   * @member {number}\n   * @memberof TiltShiftAxisFilter#\n   */\n  gradientBlur: {\n    get: function () {\n      return this.uniforms.gradientBlur.value;\n    },\n    set: function (value) {\n      this.uniforms.gradientBlur.value = value;\n    }\n  },\n\n  /**\n   * The X value to start the effect at.\n   *\n   * @member {Point}\n   * @memberof TiltShiftAxisFilter#\n   */\n  start: {\n    get: function () {\n      return this.uniforms.start.value;\n    },\n    set: function (value) {\n      this.uniforms.start.value = value;\n      this.updateDelta();\n    }\n  },\n\n  /**\n   * The X value to end the effect at.\n   *\n   * @member {Point}\n   * @memberof TiltShiftAxisFilter#\n   */\n  end: {\n    get: function () {\n      return this.uniforms.end.value;\n    },\n    set: function (value) {\n      this.uniforms.end.value = value;\n      this.updateDelta();\n    }\n  }\n});","map":{"version":3,"sources":["/Users/thebe/Desktop/music-generator-app/node_modules/pixi.js/src/filters/tiltshift/TiltShiftAxisFilter.js"],"names":["core","require","fs","TiltShiftAxisFilter","AbstractFilter","call","readFileSync","__dirname","blur","type","value","gradientBlur","start","x","y","window","innerHeight","end","delta","texSize","innerWidth","updateDelta","prototype","Object","create","constructor","module","exports","uniforms","defineProperties","get","set"],"mappings":"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","sourcesContent":["var core = require('../../core');\n// @see https://github.com/substack/brfs/issues/25\nvar fs = require('fs');\n\n/**\n * @author Vico @vicocotea\n * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js by Evan Wallace : http://madebyevan.com/\n */\n\n/**\n * A TiltShiftAxisFilter.\n *\n * @class\n * @extends PIXI.AbstractFilter\n * @memberof PIXI.filters\n */\nfunction TiltShiftAxisFilter()\n{\n    core.AbstractFilter.call(this,\n        // vertex shader\n        null,\n        // fragment shader\n        fs.readFileSync(__dirname + '/tiltShift.frag', 'utf8'),\n        // custom uniforms\n        {\n            blur:           { type: '1f', value: 100 },\n            gradientBlur:   { type: '1f', value: 600 },\n            start:          { type: 'v2', value: { x: 0,    y: window.innerHeight / 2 } },\n            end:            { type: 'v2', value: { x: 600,  y: window.innerHeight / 2 } },\n            delta:          { type: 'v2', value: { x: 30,   y: 30 } },\n            texSize:        { type: 'v2', value: { x: window.innerWidth, y: window.innerHeight } }\n        }\n    );\n\n    this.updateDelta();\n}\n\nTiltShiftAxisFilter.prototype = Object.create(core.AbstractFilter.prototype);\nTiltShiftAxisFilter.prototype.constructor = TiltShiftAxisFilter;\nmodule.exports = TiltShiftAxisFilter;\n\n/**\n * Updates the filter delta values.\n * This is overridden in the X and Y filters, does nothing for this class.\n *\n */\nTiltShiftAxisFilter.prototype.updateDelta = function ()\n{\n    this.uniforms.delta.value.x = 0;\n    this.uniforms.delta.value.y = 0;\n};\n\nObject.defineProperties(TiltShiftAxisFilter.prototype, {\n    /**\n     * The strength of the blur.\n     *\n     * @member {number}\n     * @memberof TiltShiftAxisFilter#\n     */\n    blur: {\n        get: function ()\n        {\n            return this.uniforms.blur.value;\n        },\n        set: function (value)\n        {\n            this.uniforms.blur.value = value;\n        }\n    },\n\n    /**\n     * The strength of the gradient blur.\n     *\n     * @member {number}\n     * @memberof TiltShiftAxisFilter#\n     */\n    gradientBlur: {\n        get: function ()\n        {\n            return this.uniforms.gradientBlur.value;\n        },\n        set: function (value)\n        {\n            this.uniforms.gradientBlur.value = value;\n        }\n    },\n\n    /**\n     * The X value to start the effect at.\n     *\n     * @member {Point}\n     * @memberof TiltShiftAxisFilter#\n     */\n    start: {\n        get: function ()\n        {\n            return this.uniforms.start.value;\n        },\n        set: function (value)\n        {\n            this.uniforms.start.value = value;\n            this.updateDelta();\n        }\n    },\n\n    /**\n     * The X value to end the effect at.\n     *\n     * @member {Point}\n     * @memberof TiltShiftAxisFilter#\n     */\n    end: {\n        get: function ()\n        {\n            return this.uniforms.end.value;\n        },\n        set: function (value)\n        {\n            this.uniforms.end.value = value;\n            this.updateDelta();\n        }\n    }\n});\n"]},"metadata":{},"sourceType":"script"}